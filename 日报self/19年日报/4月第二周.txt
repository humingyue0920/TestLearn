2019/4/8 周一
上周总结:测试担保品部分,整理期权的接口逻辑与接口用例
遇到问题:接口返回数据如何与数据库数据进行比对
解决办法:目前正在学习java,通过脚本编写beanshell断言
今日任务:结束担保品的测试
这周任务:接口用例造出来,前端页面用例写出来,下班后研究自动化测试

今日测试:在测试预警与止损的过程中,遇到问题,止损与预警是同时并发,没有先后之分,如何同时覆盖到止损与预警的消息
解决办法:在风控设置中,将最大止损比例和预警线比例修改,调的差值大一点,就会给出提示
预警对应股价=【委托买价*数量*预警线费率+需支付的延期服务费-所有追加的保证金-卖出市值】/未卖出股票数量
止损对应股价=【委托买价*数量*止损系数+需支付的延期服务费-所有追加的保证金-卖出市值】/未卖出股票数量
遇到问题:风控设置中的最大止损比例和预警线比例无法修改
解决办法:需将这条记录先移除再修改
止损ok
今日发现bug:未导入担保品时,股票管理操作页面担保品状态显示为空,且其它几种状态修改无效
今日已修复,明日验证
发现bug不明显:委托单的成交后,持仓单列表大概有30秒后才会出现这条记录
半小时研究Jmeter
经验总结:对于bug一定要确定之后再确定,确定之后再去问开发,不要耽误大家的时间,有问题先自己去检查
今日犯错:股票管理,融资是否,状态正常禁止,担保状态,担保是否,添加股票账户配置数据字典自己先检查好

今日成果:终于将接口返回数据与数据库数据对比这个功能完成,就今天遇到的问题是由于JDBC request放在后面导致断言取不到变量
踩坑:多个出参与多个数据库返回字段进行比对-采用正则表达式提取器-结果返回ok,但是断言不匹配

今日任务完成情况:担保品基本测试完毕,明天需查看今日发现的bug,需覆盖部分成交,测试报告准备起来
后端接口可以搞起来,前端用例写起来


2019/4/9 周二
昨日bug已验证,测试通过
部分成交条件:去交易所找那些卖量比较少的,买多一点这样会比较容易部分成交
注:比如买1000股,500股成交在持仓单,500股未成交在委托单,这种情况是有的,但是很少能抓住那个瞬间,成交也还是很快的
部分成交也就是分笔成交,最后都成了在持仓单只会有一笔记录,但是交易所会有多笔记录


期权前台部分用例编写


2019/4/10 周三
bug:股票管理:将股票设置为禁止买入,前台购买这支股票时,并没有禁的标志,功能没问题,前台确实不可买入，同理，禁止改为正常，前台还是不可买入
现在的规则就是这样，app启动时才会获取该数据

bug2:股票管理中这支股票显示正常,实际上是禁止买入的,前台显示禁,不可买入
修改某一只股票的高风险股票状态,不仅这支股票状态修改,其它股票也跟随相应变化,仅是显示不正确
导致原因:
bug3:几只普通账户钱都足够的情况下,南玻A两次下到同一个账户,并没有轮训下单
其实不是bug，只是由于一个账户资金不够了，所以某一个账户重复下单了一次

担保品模拟线上情况测试
期权前台页面测试用例编写

明日任务：iOS黑牛的

2019/4/11 周四
bug：已解绑的银行卡无法添加
实际情况：那张银行卡被别的用户绑定了


2019/4/12  周五
维持担保品比例小于设定值无法买入
大于等于设定值可以买入


去掉所有深圳股票
1.首页智选金股未去掉
2.首页盈利广场未去掉（解决办法盈利广场模块隐藏掉）
3.首页六脉喜报未去掉
4.社区我的订阅未去掉
下周：买入（担保品买入成功，普通账户买入成功），卖出（普通账户卖出ok，担保品卖出ok），买撤（神州高铁担保账户买撤成功，普通账户买撤成功），卖撤（担保品卖撤OK，普通账户卖撤OK），自动下单（神州高铁开市自动买入（普通账户）OK，风神股份开市自动卖出（担保账户）OK），自动撤单
覆盖担保品和普通账户，模拟线上情况，融资账户禁用